
<div class="d-flex justify-content-center register-form-container my-3 mx-auto">
    <div class="text-center mb-2 fs-3 fs-bold">
      Registration Form
    </div>
  
    <form [formGroup]="registrationForm" class="form-class mx-auto" (ngSubmit)="submitVal(registrationForm)">
  
      <div class="d-flex mb-4">
        <label for="username">Name:</label>
        <div>
          <input type="text" name="username" id="username"  formControlName="username">

          <div>
            <div class="text-danger" *ngIf="registrationForm.get('username')?.errors?.required && (registrationForm.get('username')?.touched || registrationForm.get('username')?.dirty)">
              Fill your name
            </div>
    
            <div class="text-danger" *ngIf="(registrationForm.get('username')?.errors?.minlength && registrationForm.get('username')?.value.length > 0) || registrationForm.get('username')?.errors?.pattern">
              <div *ngIf="registrationForm.get('username')?.value.length < 3 && !registrationForm.get('username')?.errors?.pattern">
                must be min 3 characters
              </div>            
  
              <div class="text-danger" *ngIf="registrationForm.get('username')?.errors?.pattern">
                name allowed only string
              </div>
            </div>
          </div>
            
        </div>      
      </div>
  
      <div class="d-flex mb-4">
        <label for="email">Email: </label>
        
        <div>
          <input type="email" name="email" id="email"  formControlName="email">

            <div>
              <div class="text-danger" *ngIf="registrationForm.get('email')?.errors?.required && (registrationForm.get('email')?.dirty || registrationForm.get('email')?.touched)">
                Fill your email
              </div>
    
              <div class="text-danger" *ngIf="registrationForm.get('email')?.errors?.email">
                Fill valid email
              </div>

            </div>
            
        </div>
      </div>

      <div class="d-flex mb-4">
        <label for="phone">Phone: </label>
  
        <div>
          <div>
            <select name="phoneCode" id="phone-code" formControlName="phoneCode" class="me-2 pb-1" [(ngModel)]="defaultCode">
              <ng-container *ngFor="let cCode of countryCode">              
                <option [value]="cCode">{{ cCode }}</option>
              </ng-container>            
            </select>
            <input type="text" name="phone" id="phone" formControlName="phone">
          </div>
  
          <div>
            <div class="text-danger" *ngIf="registrationForm.get('phone')?.errors?.required && (registrationForm.get('phone')?.dirty || registrationForm.get('phone')?.touched)">
              Fill your phone number
            </div>

            <div class="text-danger" *ngIf="registrationForm.get('phone')?.errors?.minlength || registrationForm.get('phone')?.errors?.maxlength || registrationForm.get('phone')?.errors?.pattern">
              <div class="text-danger" *ngIf="registrationForm.get('phone')?.errors?.minlength && !registrationForm.get('phone')?.errors?.pattern">
                must be 10 digits
              </div>
      
              <div class="text-danger" *ngIf="registrationForm.get('phone')?.errors?.maxlength && !registrationForm.get('phone')?.errors?.pattern">
                Don't exceed 10 digits
              </div>

              <div class="text-danger" *ngIf="registrationForm.get('phone')?.errors?.pattern">
                allow numbers only
              </div>
            </div>
              
            
          </div>
        </div>
        
      </div>
  
      <div class="d-flex mb-4">
        <label for="dob">DOB:</label>
        <div>
          <input type="date" name="dob" id="dob" formControlName="dob">
  
          <div class="text-danger" *ngIf="registrationForm.get('dob')?.errors?.required && registrationForm.get('dob')?.touched">
              Fill your date of birth
          </div>
        </div>
      </div>
  
      <div class="d-flex mb-4">
        <label for="gender">Gender</label>
        <div >
          <div id="gender" class="d-inline-flex">
            <div class="d-inline-flex" *ngFor="let genderPer of genderAll">
              <input type="radio" name="gender"  class="me-1" value="{{genderPer}}" formControlName="gender">
              <label for="{{genderPer}}" class="gender-lable">{{ genderPer }}</label>
              <!-- <input type="radio" name="gender" id="gender1" class="me-1" value="male" checked formControlName="gender">
              <label for="gender1" class="gender-lable">Male</label>
            </div>
            <div class="d-inline-flex">
              <input type="radio" name="gender" id="gender1" class="me-1" value="male" checked formControlName="gender">
              <label for="gender1" class="gender-lable">Male</label>
            </div>
    
            <div class="d-inline-flex">
              <input type="radio" name="gender" id="gender2" class="me-1" value="female" formControlName="gender">
              <label for="gender2" class="gender-lable">Female</label>
            </div>
    
            <div class="d-inline-flex">
              <input type="radio" name="gender" id="gender3" class="me-1" value="others" formControlName="gender">
              <label for="gender3" class="gender-lable">Others</label> -->
            </div>
          </div>
          
        </div>      
        
      </div>
  
      <div class="d-flex mb-4">
        <label for="pass">Password: </label>
        <div>
          <input type="password" name="pass" id="pass" formControlName="pass">
          <div *ngIf="registrationForm.get('pass')?.errors?.required && (registrationForm.get('pass')?.touched || registrationForm.get('pass')?.dirty)" class="text-danger">
            Set password
          </div>

          <div *ngIf="registrationForm.get('pass')?.errors?.pattern || registrationForm.get('pass')?.errors?.minlength || registrationForm.get('pass')?.errors?.maxlength">
            <div *ngIf="registrationForm.get('pass')?.errors?.pattern && (registrationForm.get('pass')?.errors?.maxlength || registrationForm.get('pass')?.errors?.minlength  || registrationForm.get('pass')?.errors?.pattern)" class="text-danger">
              Atleast one character, one number, one symbol and use the symbols only !@#$%^&*(),.?":
            </div>
  
            <div *ngIf="registrationForm.get('pass')?.errors?.minlength && !registrationForm.get('pass')?.errors?.pattern" class="text-danger">
              must be atleast 8 characters
            </div>
  
            <div *ngIf="registrationForm.get('pass')?.errors?.maxlength && !registrationForm.get('pass')?.errors?.pattern" class="text-danger">
              Don't exceed 20 characters
            </div>
          </div>
          
        </div>      
      </div>
  
      <div class="d-flex mb-4">
        <label for="pass">Confirm Password: </label>
        <div>
          <input type="password" name="cPass" id="cPass" formControlName="cPass">
            <div *ngIf="registrationForm.get('cPass')?.errors?.required && (registrationForm.get('cPass')?.dirty || registrationForm.get('cPass')?.touched)" class="text-danger">
                Fill the confirm password
            </div>
            
            <div *ngIf="registrationForm.errors?.['PasswordNoMatch'] && (registrationForm.get('cPass')?.dirty || registrationForm.get('cPass')?.touched)" class="text-danger">
              Password and confirm password are not matched.
            </div>
        </div>
      </div>
  
      <div class="d-flex mb-4">
        <label for="address">Address:</label>
        <div>
          <textarea name="address" id="address" formControlName="address"></textarea>

          <div class="text-danger" *ngIf="registrationForm.get('address')?.errors?.required && (registrationForm.get('address')?.dirty || registrationForm.get('address')?.touched)">
              Fill your address
          </div>
  
          <div class="text-danger" *ngIf="registrationForm.get('address')?.errors?.minlength">
            must be minumum 10 characters
         </div>

         <div class="text-danger" *ngIf="registrationForm.get('address')?.errors?.maxlength">
          must be maximum 50 characters
       </div>
        </div>
      </div>
  
      <div class="d-flex mb-4">
        <label for="country">Country: </label>
        <div>
          <select name="country" id="country" formControlName="country"  [class]="registrationForm.get('country')?.value == 0 ? 'select-invalid': 'select-valid'" (change)="countryName(registrationForm)">
            <option value="0" disabled>Select your country</option>
            <ng-container *ngFor="let eachCountry of countries">
              <option value="{{eachCountry}}">{{ eachCountry }}</option>
            </ng-container>
          </select>
  
          <div *ngIf="registrationForm.get('country')?.value == 0 && (registrationForm.get('country')?.touched || registrationForm.get('country')?.dirty)" class="text-danger">
            Select your country
          </div>
        </div>
      </div>

      <div class="d-flex mb-4">
        <input type="text" name="nationality" id="nationality" formControlName="nationality">
      </div>
      
      <div class="mb-4">
        <div class="d-flex">
          <input type="checkbox" name="agree" id="agree" class="me-2" formControlName="agree">
          <label for="agree" class="gender-lable">I agree above my details are correct</label>
        </div>
  
        <div class="text-danger" *ngIf="registrationForm.get('agree')?.errors && registrationForm.get('agree')?.dirty">
          Agree here to continue
        </div>
      </div>
          
      <div class="d-flex justify-content-center">
        <button [disabled]="registrationForm.invalid">Submit</button>   
           
      </div>
  
    </form>
    
    <div class="mt-1 d-flex justify-content-center">
        Already have an account? <a routerLink="/login">Log in</a>
    </div>
  
  </div>